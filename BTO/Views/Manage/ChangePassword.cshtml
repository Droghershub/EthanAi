@model BTO.Models.ChangePasswordViewModel
@{
    ViewBag.Title =  BTO.Resources.Resource.ChangePassword;
}
<div class="row">
    <div class="container">
        <div class="col-md-8 col-md-offset-3">
            <div class="login-panel panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">{{'Change Password' | translate}}</h3>
                </div>
                @using (Html.BeginForm("ChangePassword", "Manage", FormMethod.Post, new { @class = "form-horizontal", role = "form", name = "ChangePassword" }))
                {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary("", new { @class = "text-danger" })
                    <h4 ng-if="$root.functionAccess.CHANGE_PASSWORD !=1"> &nbsp;{{"You don't have permission for change password" | translate}}</h4>
                    <div ng-if="$root.functionAccess.CHANGE_PASSWORD ==1">
                        <div class="form-group">
                            <label for="OldPassword" class="col-md-3 control-label">{{'Current password' | translate}}</label>
                            <div class="col-md-5">
                                <input type="password" name="OldPassword" required id="OldPassword" data-val-required="The Current password field is required." data-val="true" class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="NewPassword" class="col-md-3 control-label">{{'New password' | translate}}</label>
                            <div class="col-md-5">
                                <input type="password" name="NewPassword" id="NewPassword" data-val-required="The New password field is required." dat data-val-length-min="6" data-val-length-max="100" data-val-length="The New password must be at least 6 characters long." data-val="true" class="form-control input-validation-error">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="ConfirmPassword" class="col-md-3 control-label">{{'Confirm new password' | translate}}</label>
                            <div class="col-md-5">
                                <input type="password" name="ConfirmPassword" id="ConfirmPassword" data-val-equalto-other="*.NewPassword" data-val-equalto="The new password and confirmation password do not match." data-val="true" class="form-control valid">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-offset-3 col-md-5">
                                <input type="submit" value="{{'Change Password' | translate}}" class="btn btn-default" />
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script src="~/Scripts/angular.js"></script>
    <script src="~/Scripts/angular-cookies.js"></script>
    <script src="~/Scripts/thirdparty/ngStorage.min.js"></script>
    <script src="~/Scripts/thirdparty/angular-translate.js"></script>
    <script src="~/Scripts/thirdparty/angular-translate-loader-static-files.js"></script>
    <script src="~/Scripts/bto/btoAppNotLogin.js"></script>
}